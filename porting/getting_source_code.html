<!DOCTYPE html>


































































<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="shortcut icon" type="image/x-icon" href="/assets/favicon.ico" />
<title>Getting Source Code | Android Open Source</title>
<link href="/assets/android-developer-docs-devguide.css" rel="stylesheet" type="text/css" />
<!-- <link href="/assets-pdk/pdk-local.css" rel="stylesheet" type="text/css" /> -->
<script src="/assets/search_autocomplete.js" type="text/javascript"></script>
<script src="/assets/jquery-resizable.min.js" type="text/javascript"></script>
<script src="/assets/android-developer-docs.js" type="text/javascript"></script>
<script type="text/javascript">
  setToRoot("/");
</script>
<script type="text/javascript">
  function resizeDoxFrameHeight() {
	if(document.getElementById && !(document.all)) {
		height= document.getElementById('doxygen').contentDocument.body.scrollHeight + 20;
		document.getElementById('doxygen').style.height = height+"pt";
	}
	else if(document.all) {
		height= document.frames('doxygen').document.body.scrollHeight + 20;
		document.all.doxygen.style.height = height;
	}
}
</script>
<script type="text/javascript">
  jQuery(document).ready(function() {
        jQuery("pre").addClass("prettyprint");
  });
</script>
<noscript>
  <style type="text/css">
    body{overflow:auto;}
    #body-content{position:relative; top:0;}
    #doc-content{overflow:visible;border-left:3px solid #666;}
    #side-nav{padding:0;}
    #side-nav .toggle-list ul {display:block;}
    #resize-packages-nav{border-bottom:3px solid #666;}
  </style>
</noscript>
</head>

<body class="gc-documentation" itemscope itemtype="http://schema.org/Article">

  <div id="header">
      <div id="headerLeft">
          <a href="/" tabindex="-1"><img
              src="/assets/images/open_source.png" alt="Android Open Source Project" /></a>
          <ul class="porting">
              <li id="home-link"><a href="/index.html"><span>Home</span></a></li>
              <li id="source-link"><a href="/source/index.html"
                                  onClick="return loadLast('source')"><span>Source</span></a></li>
              <li id="porting-link"><a href="/porting/index.html"
                                  onClick="return loadLast('porting')"><span>Porting</span></a></li>
              <li id="compatibility-link"><a href="/compatibility/index.html"
                                  onClick="return loadLast('compatibility')"><span>Compatibility</span></a></li>
              <li id="community-link"><a href="/community/index.html"
                                  onClick="return loadLast('community')"><span>Community</span></a></li>
              <li id="about-link"><a href="/about/index.html"
                                  onClick="return loadLast('about')"><span>About</span></a></li>
          </ul> 
      </div>
      <div id="headerRight">
          <div id="headerLinks">
            <!-- <img src="/assets/images/icon_world.jpg" alt="" /> -->
            <span class="text">
              <!-- &nbsp;<a href="#">English</a> | -->
              <a href="http://www.android.com">Android.com</a>
            </span>
          </div>
      </div><!-- headerRight -->
  </div><!-- header -->

  
    
      
  <div class="g-section g-tpl-240" id="body-content">
    <div class="g-unit g-first side-nav-resizable" id="side-nav">
      <div id="devdoc-nav"><script type="text/javascript" language="JavaScript">
<!--
function nothing() {}
-->
</script>

<ul>

<li> <h2>Setup and Building</h2>
  <ul>
     <li class="toggle-list">
     <div><a href="/porting/build_system.html">Build System</a></div>
     <ul>  
       <li><a href="/porting/build_new_device.html">Configuring a New Product</a></li>
       <li><a href="/porting/build_cookbook.html">Build Cookbook</a></li>
     </ul>
     </li>
     <li><a href="/porting/release_keys.html">Release Keys and Signing Builds</a></li> 
 </ul>
</li>

<li> <h2>Customization</h2>
  <ul>
    <li><a href="/porting/customization.html">Customization</a></li>
    <li><a href="/porting/usersguide.html">Android User's Guide</a></li>
  </ul>
</li>

<li> <h2>System</h2>

<ul>
  <li><a href="/porting/bring_up.html">Bring up</a></li>
  <li class="toggle-list">
    <div><a href="javascript:nothing()">Connectivity</a></div>
    <ul> 
      <li><a href="/porting/bluetooth.html">Bluetooth</a></li>
      <li><a href="/porting/gps.html">GPS</a></li>
      <li><a href="/porting/wifi.html">Wi-Fi</a></li>
    </ul>
  </li>

  <li><a href="/porting/display_drivers.html">Display Drivers</a></li>
  <li class="toggle-list"> 
    <div><a href="javascript:nothing()">Input Devices</a></div>
    <ul>
      <li><a href="/porting/keymaps_keyboard_input.html">Keymaps and Keyboard</a></li>
    </ul>
  </li>
  <li><a href="/porting/lights.html">Lights</a></li>
  <li class="toggle-list">
    <div><a href="javascript:nothing()">Multimedia</a></div>
    <ul>
      <li><a href="/porting/audio.html">Audio</a></li>
      <li><a href="/porting/camera.html">Camera/Video</a></li>
    </ul>
  </li>
  
  <li><a href="/porting/power_management.html">Power Management</a></li>
  <li><a href="/porting/sensors.html">Sensors</a></li>
  <li class="toggle-list">
    <div><a href="javascript:nothing()">Telephony</a></div>
    <ul>
      <li><a href="/porting/telephony.html">Radio Interface Layer</a></li>
      <li><a href="/porting/stk.html">SIM Toolkit Application (STK)</a></li>
    </ul>
  </li>

</ul>
</li>

<li> <h2>Dalvik Virtual Machine</h2>
  <ul>
    <li><a href="/porting/dalvik.html">Porting Dalvik</a></li>
  </ul>
</li>
<li> <h2>Testing and Debugging</h2>
  <ul>
    <li><a href="/porting/instrumentation_testing.html">Instrumentation Testing</a></li>
    <li><a href="/porting/debugging_gdb.html">Debugging with GDB</a></li>
    <li><a href="/porting/debugging_native.html">Debugging Native Code</a></li>
    <li><a href="/porting/tcpdump.html">Debugging with tcpdump</a></li>
  </ul>
</li>



</ul>

<script type="text/javascript">
<!--
    buildToggleLists();
//-->
</script>

      </div>
    </div> <!-- end side-nav -->
    <script>
      addLoadEvent(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>
  </div>

    
  




<div class="g-unit" id="doc-content"><a name="top"></a>

<div id="jd-header" class="guide-header">
  <span class="crumb" itemprop="breadcrumb">
    &nbsp;
    
  </span>
<h1 itemprop="name">Getting Source Code</h1>
</div>

  <div id="jd-content">

    <div class="jd-descr" itemprop="articleBody">
    <a name="toc"/>
<div style="padding:10px">
<a href="#androidSourceSetupBuildGitSetup">Introduction</a><br/>
<a href="#androidSourceSetupBuildGitSetupInstall">Installing and Configuring Git</a><br/>
<a href="#androidSourceSetupBuildGitSetupServer">Establishing Server Access</a><br/><div style="padding-left:40px">

<a href="#androidSourceSetupBuildGitSetupServerRSAKeys">Generating RSA Keys</a><br/>
<a href="#androidSourceSetupBuildGitSetupServerVerifyConnection">Verifying a Connection to the Git Server</a><br/></div>
<a href="#androidSourceSetupGetCode">Downloading Code</a><br/>
<a href="#androidSourceSetupExtractingPatch">Extracting an Android Patch</a><br/></div>

<a name="androidSourceSetupBuildGitSetup"></a><h2>Introduction</h2>

<p>Android relies on Git, a version control system, to install the Android platform. You will need to install Git 1.5.2 or greater in order to access the source tree. Please visit <a href="http://git.or.cz/">http://git.or.cz/</a> for more information regarding Git.</p>
<p>Git permits you to control access to working directories, and we recommend that you use it to limit Android repository access to only a few people within your organization (please refer to your Google NDA for potential contractual restraints on sharing Android source access). </p>
<p>You may clone Google's repository to a local copy for sharing internally (see Git documentation for details).</p>


<a name="androidSourceSetupBuildGitSetupInstall"></a><h2>Installing and Configuring Git</h2>

<p>To install the Git package, execute:</p>
<pre class="prettyprint">
% sudo apt-get install git-core
</pre>


<a name="androidSourceSetupBuildGitSetupServer"></a><h2>Establishing Server Access</h2>

<p>Once Git is cleanly installed, you need to establish a connection with Google's Git server, a connection that requires an RSA key in order to authenticate requests.</p>


<a name="androidSourceSetupBuildGitSetupServerRSAKeys"></a><h3>Generating RSA Keys</h3>

<p>Each developer must have a unique RSA key in order to access Android source code. To generate an RSA key: </p>
<p>
<ol>
<li>Type:<br/>
<pre class="prettyprint">% ssh-keygen -t rsa -C  email@domain.com</pre><br/>
You must use a valid email address to create your key.</li>
<li>When prompted, indicate the file to which you wish to write your key (<code>id_rsa</code> in this example).</li>
<li>When prompted, associate a passphrase with your key.</li>
<li>Upon success, you should have two files saved to the designated directory:  </li>
<ul>
  <li><code>id_rsa</code>: This file contains the private half of your RSA key. You shouldn't share this file with anyone. </li>
  <li><code>id_rsa.pub</code>: This is the public half or your RSA key and you should send it to your Google technical account manager.</li>
  </ul>
</ol>
</p>
<p>Send your Google Account Manager your public key file in order to establish Git server access. </p>


<a name="androidSourceSetupBuildGitSetupServerVerifyConnection"></a><h3>Verifying a Connection to the Git Server</h3>

<p>Once you have generated an RSA key and shared the public file with Google, you can test your connection with the Git server with the following command:</p>
<pre class="prettyprint">
% ssh  android-git.ext.google.com
</pre>

<p>You should receive one of the following results:</p>

<table border=1 cellpadding=2 cellspacing=0>
 <tbody><tr>
  <th scope="col">Result</th>
  <th scope="col">Cause</th>
  <th  scope="col">Action</th>
 </tr>
  <tr>
    <td>
<code>fatal: What do you think I am? A shell?<BR>
Connection to android-git closed.</code>
</pre>	</td>
    <td>Success</td>
    <td>None. You successfully connected to the Git server. (You should not have shell access and it's expected to receive this error.)</td>
  </tr>
  <tr>
    <td>ssh hangs and eventually times out. </td>
    <td>Your setup is failing to locate and establish a basic connection. </td>
    <td>Google needs to debug network settings. </td>
  </tr>
  <tr>
    <td>Error: Permission denied &lt;public key&gt; </td>
    <td>Either you are not using the matching username or the RSA private key does not match the public key. </td>
    <td>Try executing:<BR> 
	<code>
% ssh $USER@android-
  git.ext.google.com
</code></td>
  </tr>
</table>


<a name="androidSourceSetupGetCode"></a><h2>Downloading Code</h2>

<p>Android source code is maintained in two repositories: <code>device</code> and <code>kernel</code>. The <code>device</code> repository includes the Android framework (things like the Activity Manager, Window Manager, Telephony Manager, View System, etc.). The <code>kernel</code> repository includes the core code necessary to run the operating system (things like the Display Driver, Camera Driver, Keypad Driver, Power Management, etc.). (Please see <a href="http://code.google.com/android/what-is-android.html">What is Android?</a> for details.)</p>

<p>Save device and kernel code at the same directory level, for example:</p>
<p>
<ul><li><code>/home/joe/android/device</code></li>
<li><code>/home/joe/android/kernel</code></li>
</ul></p>
<p><b>Device Code</b></p>
<p>To download device code, you need your username and a unique <code>&lt;path&gt;</code> string supplied by Google to execute the following:</p>
<pre class="prettyprint">
% git-clone $USER@android-git.ext.google.com:&lt;path&gt;/device.git
</pre>

<p><b>Kernel Code</b></p>
<p>To download kernel code, you need your username and a unique <code>&lt;path&gt;</code> string supplied by Google to execute the following:</p>
<pre class="prettyprint">
% git-clone $USER@android-git.ext.google.com:&lt;path&gt;/kernel.git
</pre>
 


<a name="androidSourceSetupExtractingPatch"></a><h2>Extracting an Android Patch</h2>

<p>You likely already have Linux running on your platform and only need to integrate Android-specific changes. The following directions describe how to extract an Android patch.</p>
<ol>
  <li>Download a generic version  of the Linux kernel that matches the Linux version downloaded with the Android Kernel code.</li>
  <li>Run <code>diff</code> on the two kernel packages to get Android-specific changes.</li>
  <li>Apply the patch to your target kernel and build.</li>
</ol>


    </div>

  <a href="#top" style="float:right">&uarr; Go to top</a>
  
  </div>

<div id="footer">


  <div id="copyright">
    

  </div>

  <div id="footerlinks">
    
  <p>
    <a href="http://www.android.com/terms.html">Site Terms of Service</a> -
    <a href="http://www.android.com/privacy.html">Privacy Policy</a>
  </p>
  </div>

</div> <!-- end footer -->

</div><!-- end doc-content -->

</div> <!-- end body-content --> 

<script type="text/javascript">
init(); /* initialize android-developer-docs.js */
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5831155-1");
pageTracker._trackPageview();
</script>

</body>
</html>



