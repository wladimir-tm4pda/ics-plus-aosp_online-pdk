<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Doxygen-Generated Content</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<style type="text/css">
<!--
.tabs {
	display: none;
}
-->
</style>
</head>
<body>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceandroid.html">android</a></li><li class="navelem"><a class="el" href="classandroid_1_1CameraHardwareInterface.html">CameraHardwareInterface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">android::CameraHardwareInterface Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="CameraHardwareInterface_8h.html">CameraHardwareInterface.h</a> defines the interface to the camera hardware abstraction layer, used for setting and getting parameters, live previewing, and taking pictures.  
 <a href="classandroid_1_1CameraHardwareInterface.html#details">More...</a></p>

<p>Inherits RefBase.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2fda3eb64b08e1e0b78ef45095097e39"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a2fda3eb64b08e1e0b78ef45095097e39">autoFocus</a> ()=0</td></tr>
<tr class="memdesc:a2fda3eb64b08e1e0b78ef45095097e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start auto focus, the notification callback routine is called with CAMERA_MSG_FOCUS once when focusing is complete.  <a href="#a2fda3eb64b08e1e0b78ef45095097e39">More...</a><br /></td></tr>
<tr class="separator:a2fda3eb64b08e1e0b78ef45095097e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd49dcc1a17875708d7aa05f1b3af42"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a7bd49dcc1a17875708d7aa05f1b3af42">cancelAutoFocus</a> ()=0</td></tr>
<tr class="memdesc:a7bd49dcc1a17875708d7aa05f1b3af42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancels auto-focus function.  <a href="#a7bd49dcc1a17875708d7aa05f1b3af42">More...</a><br /></td></tr>
<tr class="separator:a7bd49dcc1a17875708d7aa05f1b3af42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c32f9dc05f22ef13c05e7abba4e8c7e"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a4c32f9dc05f22ef13c05e7abba4e8c7e">cancelPicture</a> ()=0</td></tr>
<tr class="memdesc:a4c32f9dc05f22ef13c05e7abba4e8c7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a picture that was started with takePicture.  <a href="#a4c32f9dc05f22ef13c05e7abba4e8c7e">More...</a><br /></td></tr>
<tr class="separator:a4c32f9dc05f22ef13c05e7abba4e8c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac269efeac07536d1d8c574ea807f2cbb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#ac269efeac07536d1d8c574ea807f2cbb">disableMsgType</a> (int32_t msgType)=0</td></tr>
<tr class="memdesc:ac269efeac07536d1d8c574ea807f2cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable a message, or a set of messages.  <a href="#ac269efeac07536d1d8c574ea807f2cbb">More...</a><br /></td></tr>
<tr class="separator:ac269efeac07536d1d8c574ea807f2cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06df1bf91b8af07964dca314a6031b32"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a06df1bf91b8af07964dca314a6031b32">dump</a> (int fd, const Vector&lt; String16 &gt; &amp;args) const =0</td></tr>
<tr class="memdesc:a06df1bf91b8af07964dca314a6031b32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump state of the camera hardware.  <a href="#a06df1bf91b8af07964dca314a6031b32">More...</a><br /></td></tr>
<tr class="separator:a06df1bf91b8af07964dca314a6031b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04cf67478ec29d0037ca65ed0b1bca52"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a04cf67478ec29d0037ca65ed0b1bca52">enableMsgType</a> (int32_t msgType)=0</td></tr>
<tr class="memdesc:a04cf67478ec29d0037ca65ed0b1bca52"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following three functions all take a msgtype, which is a bitmask of the messages defined in include/ui/Camera.h.  <a href="#a04cf67478ec29d0037ca65ed0b1bca52">More...</a><br /></td></tr>
<tr class="separator:a04cf67478ec29d0037ca65ed0b1bca52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c748a3c0aa3c5f2333e0abcdbeb15cb"><td class="memItemLeft" align="right" valign="top">virtual CameraParameters&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a4c748a3c0aa3c5f2333e0abcdbeb15cb">getParameters</a> () const =0</td></tr>
<tr class="memdesc:a4c748a3c0aa3c5f2333e0abcdbeb15cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the camera parameters.  <a href="#a4c748a3c0aa3c5f2333e0abcdbeb15cb">More...</a><br /></td></tr>
<tr class="separator:a4c748a3c0aa3c5f2333e0abcdbeb15cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4071fb234a0c2e7bf6ea78e723f2f4"><td class="memItemLeft" align="right" valign="top">virtual sp&lt; IMemoryHeap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a9d4071fb234a0c2e7bf6ea78e723f2f4">getPreviewHeap</a> () const =0</td></tr>
<tr class="memdesc:a9d4071fb234a0c2e7bf6ea78e723f2f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the IMemoryHeap for the preview image heap.  <a href="#a9d4071fb234a0c2e7bf6ea78e723f2f4">More...</a><br /></td></tr>
<tr class="separator:a9d4071fb234a0c2e7bf6ea78e723f2f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a2530d30a45c140fdc906f6029b504"><td class="memItemLeft" align="right" valign="top">virtual sp&lt; IMemoryHeap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a21a2530d30a45c140fdc906f6029b504">getRawHeap</a> () const =0</td></tr>
<tr class="memdesc:a21a2530d30a45c140fdc906f6029b504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the IMemoryHeap for the raw image heap.  <a href="#a21a2530d30a45c140fdc906f6029b504">More...</a><br /></td></tr>
<tr class="separator:a21a2530d30a45c140fdc906f6029b504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab533e8c37e6bc087fc6eb07514ed88a2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#ab533e8c37e6bc087fc6eb07514ed88a2">msgTypeEnabled</a> (int32_t msgType)=0</td></tr>
<tr class="memdesc:ab533e8c37e6bc087fc6eb07514ed88a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query whether a message, or a set of messages, is enabled.  <a href="#ab533e8c37e6bc087fc6eb07514ed88a2">More...</a><br /></td></tr>
<tr class="separator:ab533e8c37e6bc087fc6eb07514ed88a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fb5eb956f222ffd85d79c52185bff1e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a2fb5eb956f222ffd85d79c52185bff1e">previewEnabled</a> ()=0</td></tr>
<tr class="memdesc:a2fb5eb956f222ffd85d79c52185bff1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if preview is enabled.  <a href="#a2fb5eb956f222ffd85d79c52185bff1e">More...</a><br /></td></tr>
<tr class="separator:a2fb5eb956f222ffd85d79c52185bff1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16624f6c70f26c6485610ff88f3b8879"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a16624f6c70f26c6485610ff88f3b8879">recordingEnabled</a> ()=0</td></tr>
<tr class="memdesc:a16624f6c70f26c6485610ff88f3b8879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if recording is enabled.  <a href="#a16624f6c70f26c6485610ff88f3b8879">More...</a><br /></td></tr>
<tr class="separator:a16624f6c70f26c6485610ff88f3b8879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf65310b8aa176e0ce5f08b87d6b7eb8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#adf65310b8aa176e0ce5f08b87d6b7eb8">release</a> ()=0</td></tr>
<tr class="memdesc:adf65310b8aa176e0ce5f08b87d6b7eb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the hardware resources owned by this object.  <a href="#adf65310b8aa176e0ce5f08b87d6b7eb8">More...</a><br /></td></tr>
<tr class="separator:adf65310b8aa176e0ce5f08b87d6b7eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab603f2cbfd3277b007a0907c58b1dcf8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#ab603f2cbfd3277b007a0907c58b1dcf8">releaseRecordingFrame</a> (const sp&lt; IMemory &gt; &amp;mem)=0</td></tr>
<tr class="memdesc:ab603f2cbfd3277b007a0907c58b1dcf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release a record frame previously returned by CAMERA_MSG_VIDEO_FRAME.  <a href="#ab603f2cbfd3277b007a0907c58b1dcf8">More...</a><br /></td></tr>
<tr class="separator:ab603f2cbfd3277b007a0907c58b1dcf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46a1e2e8b97ac2e338a571d9af0cc029"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a46a1e2e8b97ac2e338a571d9af0cc029">sendCommand</a> (int32_t cmd, int32_t arg1, int32_t arg2)=0</td></tr>
<tr class="memdesc:a46a1e2e8b97ac2e338a571d9af0cc029"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send command to camera driver.  <a href="#a46a1e2e8b97ac2e338a571d9af0cc029">More...</a><br /></td></tr>
<tr class="separator:a46a1e2e8b97ac2e338a571d9af0cc029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2c05c4bea50fe3ec7db8481eeac208f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#af2c05c4bea50fe3ec7db8481eeac208f">setCallbacks</a> (<a class="el" href="namespaceandroid.html#a81ca523b4fa723910827d2f60a87fb14">notify_callback</a> notify_cb, <a class="el" href="namespaceandroid.html#aa202717ce71bc3782c808d1d0741888e">data_callback</a> data_cb, <a class="el" href="namespaceandroid.html#ade3f94c5ff380dfcb21a40a6fc09f108">data_callback_timestamp</a> data_cb_timestamp, void *user)=0</td></tr>
<tr class="memdesc:af2c05c4bea50fe3ec7db8481eeac208f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the notification and data callbacks.  <a href="#af2c05c4bea50fe3ec7db8481eeac208f">More...</a><br /></td></tr>
<tr class="separator:af2c05c4bea50fe3ec7db8481eeac208f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4567930bc6600575e70d6f75f3abc0b"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#ab4567930bc6600575e70d6f75f3abc0b">setOverlay</a> (const sp&lt; Overlay &gt; &amp;overlay)</td></tr>
<tr class="separator:ab4567930bc6600575e70d6f75f3abc0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e54ede14bd263274bbc8777bafc384"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a82e54ede14bd263274bbc8777bafc384">setParameters</a> (const CameraParameters &amp;params)=0</td></tr>
<tr class="memdesc:a82e54ede14bd263274bbc8777bafc384"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the camera parameters.  <a href="#a82e54ede14bd263274bbc8777bafc384">More...</a><br /></td></tr>
<tr class="separator:a82e54ede14bd263274bbc8777bafc384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d69229df081cc5e6b773fb47d6c145"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a53d69229df081cc5e6b773fb47d6c145">startPreview</a> ()=0</td></tr>
<tr class="memdesc:a53d69229df081cc5e6b773fb47d6c145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start preview mode.  <a href="#a53d69229df081cc5e6b773fb47d6c145">More...</a><br /></td></tr>
<tr class="separator:a53d69229df081cc5e6b773fb47d6c145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f6725a6dcdb686ba56221a53eb00c9"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a81f6725a6dcdb686ba56221a53eb00c9">startRecording</a> ()=0</td></tr>
<tr class="memdesc:a81f6725a6dcdb686ba56221a53eb00c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start record mode.  <a href="#a81f6725a6dcdb686ba56221a53eb00c9">More...</a><br /></td></tr>
<tr class="separator:a81f6725a6dcdb686ba56221a53eb00c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34faa77065f415b93cb1acf84fc788bf"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a34faa77065f415b93cb1acf84fc788bf">stopPreview</a> ()=0</td></tr>
<tr class="memdesc:a34faa77065f415b93cb1acf84fc788bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a previously started preview.  <a href="#a34faa77065f415b93cb1acf84fc788bf">More...</a><br /></td></tr>
<tr class="separator:a34faa77065f415b93cb1acf84fc788bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621f7613a31900d170d86de96b53ed54"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a621f7613a31900d170d86de96b53ed54">stopRecording</a> ()=0</td></tr>
<tr class="memdesc:a621f7613a31900d170d86de96b53ed54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a previously started recording.  <a href="#a621f7613a31900d170d86de96b53ed54">More...</a><br /></td></tr>
<tr class="separator:a621f7613a31900d170d86de96b53ed54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af045b2de1aa84ac2fbb8670642ef96bc"><td class="memItemLeft" align="right" valign="top">virtual status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#af045b2de1aa84ac2fbb8670642ef96bc">takePicture</a> ()=0</td></tr>
<tr class="memdesc:af045b2de1aa84ac2fbb8670642ef96bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a picture.  <a href="#af045b2de1aa84ac2fbb8670642ef96bc">More...</a><br /></td></tr>
<tr class="separator:af045b2de1aa84ac2fbb8670642ef96bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63de978d65aa5b267d5fcf3c3922837"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#af63de978d65aa5b267d5fcf3c3922837">useOverlay</a> ()</td></tr>
<tr class="memdesc:af63de978d65aa5b267d5fcf3c3922837"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only used if overlays are used for camera preview.  <a href="#af63de978d65aa5b267d5fcf3c3922837">More...</a><br /></td></tr>
<tr class="separator:af63de978d65aa5b267d5fcf3c3922837"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f4ab74b58cd4b23e0fb00a46a60cb1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a99f4ab74b58cd4b23e0fb00a46a60cb1">~CameraHardwareInterface</a> ()</td></tr>
<tr class="separator:a99f4ab74b58cd4b23e0fb00a46a60cb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="CameraHardwareInterface_8h.html">CameraHardwareInterface.h</a> defines the interface to the camera hardware abstraction layer, used for setting and getting parameters, live previewing, and taking pictures. </p>
<p>It is a referenced counted interface with RefBase as its base class. CameraService calls openCameraHardware() to retrieve a strong pointer to the instance of this interface and may be called multiple times. The following steps describe a typical sequence:</p>
<ol type="1">
<li>After CameraService calls openCameraHardware(), <a class="el" href="classandroid_1_1CameraHardwareInterface.html#a4c748a3c0aa3c5f2333e0abcdbeb15cb" title="Return the camera parameters. ">getParameters()</a> and <a class="el" href="classandroid_1_1CameraHardwareInterface.html#a82e54ede14bd263274bbc8777bafc384" title="Set the camera parameters. ">setParameters()</a> are used to initialize the camera instance. CameraService calls <a class="el" href="classandroid_1_1CameraHardwareInterface.html#a9d4071fb234a0c2e7bf6ea78e723f2f4" title="Return the IMemoryHeap for the preview image heap. ">getPreviewHeap()</a> to establish access to the preview heap so it can be registered with SurfaceFlinger for efficient display updating while in preview mode.</li>
<li><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a53d69229df081cc5e6b773fb47d6c145" title="Start preview mode. ">startPreview()</a> is called. The camera instance then periodically sends the message CAMERA_MSG_PREVIEW_FRAME (if enabled) each time a new preview frame is available. If data callback code needs to use this memory after returning, it must copy the data.</li>
</ol>
<p>Prior to taking a picture, CameraService calls autofocus(). When auto focusing has completed, the camera instance sends a CAMERA_MSG_FOCUS notification, which informs the application whether focusing was successful. The camera instance only sends this message once and it is up to the application to call <a class="el" href="classandroid_1_1CameraHardwareInterface.html#a2fda3eb64b08e1e0b78ef45095097e39" title="Start auto focus, the notification callback routine is called with CAMERA_MSG_FOCUS once when focusin...">autoFocus()</a> again if refocusing is desired.</p>
<p>CameraService calls <a class="el" href="classandroid_1_1CameraHardwareInterface.html#af045b2de1aa84ac2fbb8670642ef96bc" title="Take a picture. ">takePicture()</a> to request the camera instance take a picture. At this point, if a shutter, postview, raw, and/or compressed callback is desired, the corresponding message must be enabled. As with CAMERA_MSG_PREVIEW_FRAME, any memory provided in a data callback must be copied if it's needed after returning. </p>

<p>Definition at line <a class="el" href="CameraHardwareInterface_8h_source.html#l00075">75</a> of file <a class="el" href="CameraHardwareInterface_8h_source.html">CameraHardwareInterface.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a99f4ab74b58cd4b23e0fb00a46a60cb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual android::CameraHardwareInterface::~CameraHardwareInterface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CameraHardwareInterface_8h_source.html#l00077">77</a> of file <a class="el" href="CameraHardwareInterface_8h_source.html">CameraHardwareInterface.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2fda3eb64b08e1e0b78ef45095097e39"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::autoFocus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start auto focus, the notification callback routine is called with CAMERA_MSG_FOCUS once when focusing is complete. </p>
<p><a class="el" href="classandroid_1_1CameraHardwareInterface.html#a2fda3eb64b08e1e0b78ef45095097e39" title="Start auto focus, the notification callback routine is called with CAMERA_MSG_FOCUS once when focusin...">autoFocus()</a> will be called again if another auto focus is needed. </p>

</div>
</div>
<a class="anchor" id="a7bd49dcc1a17875708d7aa05f1b3af42"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::cancelAutoFocus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancels auto-focus function. </p>
<p>If the auto-focus is still in progress, this function will cancel it. Whether the auto-focus is in progress or not, this function will return the focus position to the default. If the camera does not support auto-focus, this is a no-op. </p>

</div>
</div>
<a class="anchor" id="a4c32f9dc05f22ef13c05e7abba4e8c7e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::cancelPicture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel a picture that was started with takePicture. </p>
<p>Calling this method when no picture is being taken is a no-op. </p>

</div>
</div>
<a class="anchor" id="ac269efeac07536d1d8c574ea807f2cbb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::disableMsgType </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>msgType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable a message, or a set of messages. </p>

</div>
</div>
<a class="anchor" id="a06df1bf91b8af07964dca314a6031b32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::dump </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Vector&lt; String16 &gt; &amp;&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dump state of the camera hardware. </p>

</div>
</div>
<a class="anchor" id="a04cf67478ec29d0037ca65ed0b1bca52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::enableMsgType </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>msgType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The following three functions all take a msgtype, which is a bitmask of the messages defined in include/ui/Camera.h. </p>
<p>Enable a message, or set of messages. </p>

</div>
</div>
<a class="anchor" id="a4c748a3c0aa3c5f2333e0abcdbeb15cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual CameraParameters android::CameraHardwareInterface::getParameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the camera parameters. </p>

</div>
</div>
<a class="anchor" id="a9d4071fb234a0c2e7bf6ea78e723f2f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual sp&lt;IMemoryHeap&gt; android::CameraHardwareInterface::getPreviewHeap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the IMemoryHeap for the preview image heap. </p>

</div>
</div>
<a class="anchor" id="a21a2530d30a45c140fdc906f6029b504"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual sp&lt;IMemoryHeap&gt; android::CameraHardwareInterface::getRawHeap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the IMemoryHeap for the raw image heap. </p>

</div>
</div>
<a class="anchor" id="ab533e8c37e6bc087fc6eb07514ed88a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool android::CameraHardwareInterface::msgTypeEnabled </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>msgType</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query whether a message, or a set of messages, is enabled. </p>
<p>Note that this is operates as an AND, if any of the messages queried are off, this will return false. </p>

</div>
</div>
<a class="anchor" id="a2fb5eb956f222ffd85d79c52185bff1e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool android::CameraHardwareInterface::previewEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if preview is enabled. </p>

</div>
</div>
<a class="anchor" id="a16624f6c70f26c6485610ff88f3b8879"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool android::CameraHardwareInterface::recordingEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if recording is enabled. </p>

</div>
</div>
<a class="anchor" id="adf65310b8aa176e0ce5f08b87d6b7eb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release the hardware resources owned by this object. </p>
<p>Note that this is <em>not</em> done in the destructor. </p>

</div>
</div>
<a class="anchor" id="ab603f2cbfd3277b007a0907c58b1dcf8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::releaseRecordingFrame </td>
          <td>(</td>
          <td class="paramtype">const sp&lt; IMemory &gt; &amp;&#160;</td>
          <td class="paramname"><em>mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release a record frame previously returned by CAMERA_MSG_VIDEO_FRAME. </p>

</div>
</div>
<a class="anchor" id="a46a1e2e8b97ac2e338a571d9af0cc029"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::sendCommand </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>arg1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>arg2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send command to camera driver. </p>

</div>
</div>
<a class="anchor" id="af2c05c4bea50fe3ec7db8481eeac208f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::setCallbacks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceandroid.html#a81ca523b4fa723910827d2f60a87fb14">notify_callback</a>&#160;</td>
          <td class="paramname"><em>notify_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceandroid.html#aa202717ce71bc3782c808d1d0741888e">data_callback</a>&#160;</td>
          <td class="paramname"><em>data_cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceandroid.html#ade3f94c5ff380dfcb21a40a6fc09f108">data_callback_timestamp</a>&#160;</td>
          <td class="paramname"><em>data_cb_timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the notification and data callbacks. </p>

</div>
</div>
<a class="anchor" id="ab4567930bc6600575e70d6f75f3abc0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::setOverlay </td>
          <td>(</td>
          <td class="paramtype">const sp&lt; Overlay &gt; &amp;&#160;</td>
          <td class="paramname"><em>overlay</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="CameraHardwareInterface_8h_source.html#l00114">114</a> of file <a class="el" href="CameraHardwareInterface_8h_source.html">CameraHardwareInterface.h</a>.</p>

</div>
</div>
<a class="anchor" id="a82e54ede14bd263274bbc8777bafc384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::setParameters </td>
          <td>(</td>
          <td class="paramtype">const CameraParameters &amp;&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the camera parameters. </p>
<p>This returns BAD_VALUE if any parameter is invalid or not supported. </p>

</div>
</div>
<a class="anchor" id="a53d69229df081cc5e6b773fb47d6c145"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::startPreview </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start preview mode. </p>

</div>
</div>
<a class="anchor" id="a81f6725a6dcdb686ba56221a53eb00c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::startRecording </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start record mode. </p>
<p>When a record image is available a CAMERA_MSG_VIDEO_FRAME message is sent with the corresponding frame. Every record frame must be released by calling <a class="el" href="classandroid_1_1CameraHardwareInterface.html#ab603f2cbfd3277b007a0907c58b1dcf8" title="Release a record frame previously returned by CAMERA_MSG_VIDEO_FRAME. ">releaseRecordingFrame()</a>. </p>

</div>
</div>
<a class="anchor" id="a34faa77065f415b93cb1acf84fc788bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::stopPreview </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop a previously started preview. </p>

</div>
</div>
<a class="anchor" id="a621f7613a31900d170d86de96b53ed54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void android::CameraHardwareInterface::stopRecording </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop a previously started recording. </p>

</div>
</div>
<a class="anchor" id="af045b2de1aa84ac2fbb8670642ef96bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual status_t android::CameraHardwareInterface::takePicture </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Take a picture. </p>

</div>
</div>
<a class="anchor" id="af63de978d65aa5b267d5fcf3c3922837"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool android::CameraHardwareInterface::useOverlay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Only used if overlays are used for camera preview. </p>

<p>Definition at line <a class="el" href="CameraHardwareInterface_8h_source.html#l00113">113</a> of file <a class="el" href="CameraHardwareInterface_8h_source.html">CameraHardwareInterface.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</body>
</html>